<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript"
        src="https://webapi.amap.com/maps?v=1.4.15&key=b261d29e49d1c84625fc82520040816b"></script>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

        .wrapper {
            position: relative;
            width: 100%;
            height: 100%;
        }

        #container {
            width: 100%;
            height: 100%;
        }

        .btn {
            position: absolute;
            right: 10px;
            bottom: 10px;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div id="container"></div>
        <div class="btn">
            <button id="layer_btn">显示/隐藏图层</button>
        </div>
    </div>

    <script>
        var map = new AMap.Map('container', {
            center: [120.210911, 30.252333],
            zoom: 11,
            // layers: [
            //     new AMap.TileLayer.Satellite(),  //  卫星图层
            //     new AMap.TileLayer.RoadNet(),  //  路 图层
            // ]
            // viewMode: '3D', // 地图模式
            // pitch: 75, // 地图俯仰角度，有效范围 0 度- 83 度
            // rotation: 10
        });
        //实时路况图层
        var trafficLayer = new AMap.TileLayer.Traffic({
            zIndex: 10
        });
        map.add(trafficLayer);//添加图层到地图
        let isVisbile = false;
        trafficLayer.hide()
        const btn = document.getElementById("layer_btn")
        btn.addEventListener('click', function (e) {
            isVisbile = !isVisbile
            if (isVisbile) {
                trafficLayer.show()
            } else {
                trafficLayer.hide()
            }
        })

        const marker = new AMap.Marker({
            position: [120.210911, 30.252333]
        })
        map.add(marker)
    </script>
</body>

</html>